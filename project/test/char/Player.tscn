[gd_scene load_steps=65 format=3 uid="uid://b0fepk8mb2s4q"]

[ext_resource type="PackedScene" uid="uid://nbeejrdymr0v" path="res://project/node/char/Character.tscn" id="1_7cl3v"]
[ext_resource type="Script" path="res://project/test/char/Player.gd" id="2_mucx8"]
[ext_resource type="Script" path="res://project/node/char/data/CharData.gd" id="3_4lbiq"]
[ext_resource type="Texture2D" uid="uid://d38fiix13ehgq" path="res://resource/icon/#1 - Transparent Icons.png" id="3_cx8su"]
[ext_resource type="Script" path="res://project/test/item/Food.gd" id="4_2rpht"]
[ext_resource type="Script" path="res://project/node/char/data/AttackData.gd" id="5_8vve7"]
[ext_resource type="Script" path="res://project/test/item/MagicBook.gd" id="5_kilgj"]
[ext_resource type="Texture2D" uid="uid://scw1bym2cgel" path="res://resource/icon/magic_icon.png" id="7_pgums"]
[ext_resource type="Script" path="res://project/test/spell/Brear.gd" id="9_ohkml"]

[sub_resource type="AtlasTexture" id="AtlasTexture_kps46"]
atlas = ExtResource("3_cx8su")
region = Rect2(0, 448, 32, 32)

[sub_resource type="Resource" id="Resource_imten"]
script = ExtResource("4_2rpht")
heal_point = 2
item_id = "apple"
icon = SubResource("AtlasTexture_kps46")
name = "りんご"
stackable = true
count = 1
description = "ふつうのりんご"
menu = Array[int]([0, 1])

[sub_resource type="Resource" id="Resource_bd0dg"]
script = ExtResource("5_8vve7")
char_name = ""
force = 3

[sub_resource type="AtlasTexture" id="AtlasTexture_mcr0d"]
atlas = ExtResource("3_cx8su")
region = Rect2(32, 416, 32, 32)

[sub_resource type="Resource" id="Resource_px8ec"]
script = ExtResource("5_kilgj")
damage = SubResource("Resource_bd0dg")
item_id = "magicbook"
icon = SubResource("AtlasTexture_mcr0d")
name = "魔法の本"
stackable = true
count = 5
description = "読むと何かが起こる"
menu = Array[int]([0, 1])

[sub_resource type="Resource" id="Resource_m1iuw"]
script = ExtResource("5_8vve7")
char_name = "brear"
force = 5

[sub_resource type="AtlasTexture" id="AtlasTexture_gk727"]
atlas = ExtResource("7_pgums")
region = Rect2(254, 50, 113, 109)

[sub_resource type="Resource" id="Resource_632fh"]
script = ExtResource("9_ohkml")
damage = SubResource("Resource_m1iuw")
spell_id = "brear"
icon = SubResource("AtlasTexture_gk727")
name = "ブレア"
cost = 3
description = "火の玉を放つ。
攻撃力：{dmg}"

[sub_resource type="Resource" id="Resource_yxxo6"]
script = ExtResource("3_4lbiq")
name = "Player"
direction = Vector2(0, 1)
money = 0
max_hp = 3
hp = 3
max_mp = 5
mp = 5
inventory = Array[Resource("res://project/node/item/data/ItemData.gd")]([SubResource("Resource_imten"), SubResource("Resource_px8ec")])
spellbook = Array[Resource("res://project/node/spell/data/SpellData.gd")]([SubResource("Resource_632fh")])

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_vu3ts"]
resource_local_to_scene = true
radius = 6.0
height = 16.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1fxlk"]
resource_local_to_scene = true
radius = 13.0
height = 26.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0hc4s"]
animation = &"kusokimo/attack_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5ha8v"]
animation = &"kusokimo/attack_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_e2r7a"]
animation = &"kusokimo/attack_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lr45e"]
animation = &"kusokimo/attack_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7oocg"]
animation = &"kusokimo/attack_down_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6ox22"]
animation = &"kusokimo/attack_down_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n7mdv"]
animation = &"kusokimo/attack_up_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1umct"]
animation = &"kusokimo/attack_up_right"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_oane8"]
blend_point_0/node = SubResource("AnimationNodeAnimation_0hc4s")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_5ha8v")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_e2r7a")
blend_point_2/pos = Vector2(0, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_lr45e")
blend_point_3/pos = Vector2(0, -1)
blend_point_4/node = SubResource("AnimationNodeAnimation_7oocg")
blend_point_4/pos = Vector2(-0.6, 0.6)
blend_point_5/node = SubResource("AnimationNodeAnimation_6ox22")
blend_point_5/pos = Vector2(0.6, 0.6)
blend_point_6/node = SubResource("AnimationNodeAnimation_n7mdv")
blend_point_6/pos = Vector2(-0.6, -0.6)
blend_point_7/node = SubResource("AnimationNodeAnimation_1umct")
blend_point_7/pos = Vector2(0.6, -0.6)
blend_mode = 1

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_0yt3v"]

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_wkp4q"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_tocgo"]
graph_offset = Vector2(-234.906, 53.5272)
nodes/BlendSpace2D/node = SubResource("AnimationNodeBlendSpace2D_oane8")
nodes/BlendSpace2D/position = Vector2(20, 100)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_0yt3v")
nodes/TimeScale/position = Vector2(260, 120)
nodes/TimeSeek/node = SubResource("AnimationNodeTimeSeek_wkp4q")
nodes/TimeSeek/position = Vector2(440, 120)
nodes/output/position = Vector2(620, 140)
node_connections = [&"output", 0, &"TimeSeek", &"TimeScale", 0, &"BlendSpace2D", &"TimeSeek", 0, &"TimeScale"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hy4pa"]
animation = &"kusokimo/idle_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yh5qp"]
animation = &"kusokimo/idle_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aaq0o"]
animation = &"kusokimo/idle_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_10gox"]
animation = &"kusokimo/idle_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ewxt4"]
animation = &"kusokimo/idle_down_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ffqvw"]
animation = &"kusokimo/idle_down_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nxf3i"]
animation = &"kusokimo/idle_up_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_c2ivu"]
animation = &"kusokimo/idle_up_right"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_dmig6"]
blend_point_0/node = SubResource("AnimationNodeAnimation_hy4pa")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_yh5qp")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_aaq0o")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_10gox")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_ewxt4")
blend_point_4/pos = Vector2(-0.6, 0.6)
blend_point_5/node = SubResource("AnimationNodeAnimation_ffqvw")
blend_point_5/pos = Vector2(0.6, 0.6)
blend_point_6/node = SubResource("AnimationNodeAnimation_nxf3i")
blend_point_6/pos = Vector2(-0.6, -0.6)
blend_point_7/node = SubResource("AnimationNodeAnimation_c2ivu")
blend_point_7/pos = Vector2(0.6, -0.6)
blend_mode = 1

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_ennhd"]

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_eysjc"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_nfpik"]
graph_offset = Vector2(204.929, 214.18)
nodes/BlendSpace2D/node = SubResource("AnimationNodeBlendSpace2D_dmig6")
nodes/BlendSpace2D/position = Vector2(360, 180)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_ennhd")
nodes/TimeScale/position = Vector2(620, 200)
nodes/TimeSeek/node = SubResource("AnimationNodeTimeSeek_eysjc")
nodes/TimeSeek/position = Vector2(820, 200)
nodes/output/position = Vector2(1000, 220)
node_connections = [&"output", 0, &"TimeSeek", &"TimeScale", 0, &"BlendSpace2D", &"TimeSeek", 0, &"TimeScale"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2ejp3"]
animation = &"kusokimo/move_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lqtd8"]
animation = &"kusokimo/move_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iibh3"]
animation = &"kusokimo/move_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_48g60"]
animation = &"kusokimo/move_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fuwkm"]
animation = &"kusokimo/move_down_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p0261"]
animation = &"kusokimo/move_down_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0wlsw"]
animation = &"kusokimo/move_up_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f0wut"]
animation = &"kusokimo/move_up_left"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_ebiim"]
blend_point_0/node = SubResource("AnimationNodeAnimation_2ejp3")
blend_point_0/pos = Vector2(-1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_lqtd8")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_iibh3")
blend_point_2/pos = Vector2(0, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_48g60")
blend_point_3/pos = Vector2(0, -1)
blend_point_4/node = SubResource("AnimationNodeAnimation_fuwkm")
blend_point_4/pos = Vector2(-0.6, 0.6)
blend_point_5/node = SubResource("AnimationNodeAnimation_p0261")
blend_point_5/pos = Vector2(0.6, 0.6)
blend_point_6/node = SubResource("AnimationNodeAnimation_0wlsw")
blend_point_6/pos = Vector2(0.6, -0.6)
blend_point_7/node = SubResource("AnimationNodeAnimation_f0wut")
blend_point_7/pos = Vector2(-0.6, -0.6)
blend_mode = 1

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_j7g62"]

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_njwj4"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_tqmfj"]
graph_offset = Vector2(-421, 32)
nodes/BlendSpace2D/node = SubResource("AnimationNodeBlendSpace2D_ebiim")
nodes/BlendSpace2D/position = Vector2(-120, 100)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_j7g62")
nodes/TimeScale/position = Vector2(120, 120)
nodes/TimeSeek/node = SubResource("AnimationNodeTimeSeek_njwj4")
nodes/TimeSeek/position = Vector2(300, 120)
nodes/output/position = Vector2(480, 140)
node_connections = [&"output", 0, &"TimeSeek", &"TimeScale", 0, &"BlendSpace2D", &"TimeSeek", 0, &"TimeScale"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rsag1"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uhyay"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8wxrp"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lacnl"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_x602s"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8ankj"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_63rgq"]
resource_local_to_scene = true
states/Attack/node = SubResource("AnimationNodeBlendTree_tocgo")
states/Attack/position = Vector2(651.667, 381.035)
states/End/position = Vector2(886, 264.702)
states/Idle/node = SubResource("AnimationNodeBlendTree_nfpik")
states/Idle/position = Vector2(565.667, 265.146)
states/Move/node = SubResource("AnimationNodeBlendTree_tqmfj")
states/Move/position = Vector2(753, 265.146)
states/Start/position = Vector2(429, 264.702)
transitions = ["Idle", "Move", SubResource("AnimationNodeStateMachineTransition_rsag1"), "Move", "Idle", SubResource("AnimationNodeStateMachineTransition_uhyay"), "Idle", "Attack", SubResource("AnimationNodeStateMachineTransition_8wxrp"), "Move", "Attack", SubResource("AnimationNodeStateMachineTransition_lacnl"), "Attack", "Idle", SubResource("AnimationNodeStateMachineTransition_x602s"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_8ankj")]
graph_offset = Vector2(28, 200.702)

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jc7ps"]

[node name="Player" instance=ExtResource("1_7cl3v")]
script = ExtResource("2_mucx8")
move_mode = 3
data = SubResource("Resource_yxxo6")
is_main = true

[node name="texture" parent="." index="1"]
frame = 2

[node name="attack_effect" parent="." index="2"]
texture_repeat = 1

[node name="collision" parent="." index="3"]
shape = SubResource("CapsuleShape2D_vu3ts")

[node name="collision" parent="body" index="0"]
shape = SubResource("CapsuleShape2D_1fxlk")

[node name="anim_tree" parent="." index="8"]
tree_root = SubResource("AnimationNodeStateMachine_63rgq")
parameters/playback = SubResource("AnimationNodeStateMachinePlayback_jc7ps")
